<!DOCTYPE html>
<html>
  <head>
    <title>Results</title>
    <link rel="stylesheet" href="./result.css" />
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var vampireInputsArray = JSON.parse(
          localStorage.getItem("vampireInputsArray")
        );
        var lastEntry = vampireInputsArray[vampireInputsArray.length - 1];
        var resultElement = document.getElementById("result");
        var resultExplanation = document.getElementById("resultExplanation");
        var name = "";

        if (lastEntry) {
          name = lastEntry.name;
          resultElement.textContent =
            "Name: " +
            lastEntry.name +
            "\n" +
            "Shadow: " +
            lastEntry.shadow +
            "\n" +
            "Garlic: " +
            lastEntry.garlic +
            "\n" +
            "Pale Complexion: " +
            lastEntry.pale +
            "\n" +
            "Accent: " +
            lastEntry.accent;

          var count = 0;
          if (lastEntry.shadow > 5) {
            count++;
          }
          if (lastEntry.garlic > 5) {
            count++;
          }
          if (lastEntry.pale > 5) {
            count++;
          }
          if (lastEntry.accent > 5) {
            count++;
          }

          if (count >= 3) {
            resultElement.textContent = name + " is a vampire";
            resultExplanation.textContent =
              "The vampire detection algorithm has determined that " +
              name +
              " is a vampire based on the input provided. Your classmate met three of the four requirements to becoming a vampire.";
          } else {
            resultElement.textContent = name + " is not a vampire";
            resultExplanation.textContent =
              "The vampire detection algorithm has determined that " +
              name +
              " is not a vampire based on the input provided... Your classmate did not meet three of the four requirements to becoming a vampire.";
          }
        } else {
          resultElement.textContent = "No data available";
        }
      });

      function submitForm() {
        var yesButton = document.getElementById("yes");
        var noButton = document.getElementById("no");

        if (yesButton.checked || noButton.checked) {
          alert("Form submitted!");
        } else {
          alert("Please select either Yes or No.");
        }
      }

      function resetForm() {
        document.getElementById("yes").checked = false;
        document.getElementById("no").checked = false;
      }
    </script>
  </head>
  <body>
    <div class="results-content">
      <h1>Results</h1>
      <p id="result"></p>
      <p id="resultExplanation"></p>

      <form>
        <label for="usability">Was the website usable?</label><br />
        <input type="radio" id="yes" name="usability" value="yes" />
        <label for="yes">Yes</label><br />
        <input type="radio" id="no" name="usability" value="no" />
        <label for="no">No</label><br />

        <button type="button" onclick="submitForm()">Submit</button>
        <button type="button" onclick="resetForm()">Reset</button>
      </form>
    </div>
  </body>
</html>
